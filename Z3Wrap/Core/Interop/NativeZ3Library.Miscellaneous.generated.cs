// <auto-generated>
// This file was generated by scripts/generate_native_library.py
// Source: z3_api.h / Miscellaneous
// DO NOT EDIT - Changes will be overwritten
// </auto-generated>

using System;
using System.Runtime.InteropServices;

namespace Spaceorc.Z3Wrap.Core.Interop;

internal sealed partial class NativeZ3Library
{
    [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
    private delegate void GetVersionDelegate(out uint major, out uint minor, out uint buildNumber, out uint revisionNumber);

    /// <summary>
    ///  Return Z3 version number information. 
    /// </summary>
    /// <param name="major" ctype="unsigned *">unsigned parameter</param>
    /// <param name="minor" ctype="unsigned *">unsigned parameter</param>
    /// <param name="buildNumber" ctype="unsigned *">unsigned parameter</param>
    /// <param name="revisionNumber" ctype="unsigned *">unsigned parameter</param>
    /// <seealso cref="GetFullVersion"/>
    [Z3Function("Z3_get_version")]
    internal void GetVersion(out uint major, out uint minor, out uint buildNumber, out uint revisionNumber)
    {
        var funcPtr = GetFunctionPointer("Z3_get_version");
        var func = Marshal.GetDelegateForFunctionPointer<GetVersionDelegate>(funcPtr);
        func(out major, out minor, out buildNumber, out revisionNumber);
    }

    [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
    private delegate IntPtr GetFullVersionDelegate();

    /// <summary>
    ///  Return a string that fully describes the version of Z3 in use. 
    /// </summary>
    /// <returns ctype="Z3_string">string value</returns>
    /// <seealso cref="GetVersion"/>
    [Z3Function("Z3_get_full_version")]
    internal IntPtr GetFullVersion()
    {
        var funcPtr = GetFunctionPointer("Z3_get_full_version");
        var func = Marshal.GetDelegateForFunctionPointer<GetFullVersionDelegate>(funcPtr);
        return func();
    }

    [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
    private delegate void EnableTraceDelegate(IntPtr tag);

    /// <summary>
    ///  Enable tracing messages tagged as <c>tag</c> when Z3 is compiled in debug mode. It is a NOOP otherwise. 
    /// </summary>
    /// <param name="tag" ctype="Z3_string">string parameter</param>
    /// <seealso cref="DisableTrace"/>
    [Z3Function("Z3_enable_trace")]
    internal void EnableTrace(IntPtr tag)
    {
        var funcPtr = GetFunctionPointer("Z3_enable_trace");
        var func = Marshal.GetDelegateForFunctionPointer<EnableTraceDelegate>(funcPtr);
        func(tag);
    }

    [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
    private delegate void DisableTraceDelegate(IntPtr tag);

    /// <summary>
    ///  Disable tracing messages tagged as <c>tag</c> when Z3 is compiled in debug mode. It is a NOOP otherwise. 
    /// </summary>
    /// <param name="tag" ctype="Z3_string">string parameter</param>
    /// <seealso cref="EnableTrace"/>
    [Z3Function("Z3_disable_trace")]
    internal void DisableTrace(IntPtr tag)
    {
        var funcPtr = GetFunctionPointer("Z3_disable_trace");
        var func = Marshal.GetDelegateForFunctionPointer<DisableTraceDelegate>(funcPtr);
        func(tag);
    }

    [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
    private delegate void ResetMemoryDelegate();

    /// <summary>
    ///  Reset all allocated resources. 
    /// </summary>
    /// <remarks>
    /// Use this facility on out-of memory errors. It allows discharging the previous state and resuming afresh. Any pointers previously returned by the API become invalid.
    /// </remarks>
    [Z3Function("Z3_reset_memory")]
    internal void ResetMemory()
    {
        var funcPtr = GetFunctionPointer("Z3_reset_memory");
        var func = Marshal.GetDelegateForFunctionPointer<ResetMemoryDelegate>(funcPtr);
        func();
    }

    [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
    private delegate void FinalizeMemoryDelegate();

    /// <summary>
    ///  Destroy all allocated resources. 
    /// </summary>
    /// <remarks>
    /// Any pointers previously returned by the API become invalid. Can be used for memory leak detection.
    /// </remarks>
    [Z3Function("Z3_finalize_memory")]
    internal void FinalizeMemory()
    {
        var funcPtr = GetFunctionPointer("Z3_finalize_memory");
        var func = Marshal.GetDelegateForFunctionPointer<FinalizeMemoryDelegate>(funcPtr);
        func();
    }

}
