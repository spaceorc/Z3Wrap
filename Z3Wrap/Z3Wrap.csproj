<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <TargetFramework>net9.0</TargetFramework>
        <ImplicitUsings>enable</ImplicitUsings>
        <Nullable>enable</Nullable>

        <!-- Assembly and namespace naming -->
        <AssemblyName>Spaceorc.Z3Wrap</AssemblyName>
        <RootNamespace>Spaceorc.Z3Wrap</RootNamespace>

        <!-- NuGet Package Properties -->
        <PackageId>Spaceorc.Z3Wrap</PackageId>
        <Authors>spaceorc</Authors>
        <Company>spaceorc</Company>
        <Product>Z3Wrap</Product>
        <Description>A complete, modern C# wrapper for Microsoft's Z3 theorem prover with unlimited precision arithmetic and type-safe API design.</Description>
        <Summary>Modern C# wrapper for Z3 theorem prover with BigInteger support, exact rationals, and natural mathematical syntax.</Summary>
        <PackageTags>z3;theorem-prover;smt;solver;constraint;satisfiability;biginteger;mathematics;formal-verification</PackageTags>
        <PackageProjectUrl>https://github.com/spaceorc/Z3Wrap</PackageProjectUrl>
        <RepositoryUrl>https://github.com/spaceorc/Z3Wrap</RepositoryUrl>
        <RepositoryType>git</RepositoryType>
        <PackageLicenseExpression>MIT</PackageLicenseExpression>
        <PackageReadmeFile>README.md</PackageReadmeFile>
        <GeneratePackageOnBuild>false</GeneratePackageOnBuild>
        <GenerateDocumentationFile>true</GenerateDocumentationFile>
        <IncludeSymbols>true</IncludeSymbols>
        <SymbolPackageFormat>snupkg</SymbolPackageFormat>
        <PublishRepositoryUrl>true</PublishRepositoryUrl>
        <EmbedUntrackedSources>true</EmbedUntrackedSources>

        <MinVerTagPrefix>v</MinVerTagPrefix>
    </PropertyGroup>

    <!-- Include README in NuGet package -->
    <ItemGroup>
        <None Include="../README.md" Pack="true" PackagePath="\"/>
    </ItemGroup>

    <!-- Source Link support for debugging -->
    <ItemGroup>
        <PackageReference Include="Microsoft.SourceLink.GitHub" Version="8.0.0" PrivateAssets="All"/>
        <PackageReference Include="MinVer" Version="6.0.0">
            <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
            <PrivateAssets>all</PrivateAssets>
        </PackageReference>
    </ItemGroup>

    <ItemGroup>
        <Compile Update="Extensions\Z3ContextExtensions.Array.Operators.cs">
            <DependentUpon>Z3ContextExtensions.Array.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.BitVec.Conversion.cs">
            <DependentUpon>Z3ContextExtensions.BitVec.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.BitVec.Functions.cs">
            <DependentUpon>Z3ContextExtensions.BitVec.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.BitVec.Operators.cs">
            <DependentUpon>Z3ContextExtensions.BitVec.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.BitVec.OverflowChecks.cs">
            <DependentUpon>Z3ContextExtensions.BitVec.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.Bool.Functions.cs">
            <DependentUpon>Z3ContextExtensions.Bool.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.Bool.Operators.cs">
            <DependentUpon>Z3ContextExtensions.Bool.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.Int.Conversion.cs">
            <DependentUpon>Z3ContextExtensions.Int.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.Int.Functions.cs">
            <DependentUpon>Z3ContextExtensions.Int.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.Int.Operators.cs">
            <DependentUpon>Z3ContextExtensions.Int.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.Real.Conversion.cs">
            <DependentUpon>Z3ContextExtensions.Real.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.Real.Functions.cs">
            <DependentUpon>Z3ContextExtensions.Real.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.Real.Operators.cs">
            <DependentUpon>Z3ContextExtensions.Real.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.Array.cs">
            <DependentUpon>Z3ContextExtensions.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.BitVec.cs">
            <DependentUpon>Z3ContextExtensions.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.Bool.cs">
            <DependentUpon>Z3ContextExtensions.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.BoundaryChecks.cs">
            <DependentUpon>Z3ContextExtensions.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.Core.cs">
            <DependentUpon>Z3ContextExtensions.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.Int.cs">
            <DependentUpon>Z3ContextExtensions.cs</DependentUpon>
        </Compile>
        <Compile Update="Extensions\Z3ContextExtensions.Real.cs">
            <DependentUpon>Z3ContextExtensions.cs</DependentUpon>
        </Compile>
    </ItemGroup>

    <Target Name="PrintMinVer" DependsOnTargets="MinVer">
        <Message Importance="High" Text="MinVer → PackageVersion=$(PackageVersion)"/>
        <Message Importance="High" Text="MinVer → InformationalVersion=$(InformationalVersion)"/>
    </Target>
</Project>
