<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>net9.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
    <!-- Assembly and namespace naming -->
    <AssemblyName>Spaceorc.Z3Wrap</AssemblyName>
    <RootNamespace>Spaceorc.Z3Wrap</RootNamespace>
    <!-- NuGet Package Properties -->
    <PackageId>Spaceorc.Z3Wrap</PackageId>
    <Authors>spaceorc</Authors>
    <Company>spaceorc</Company>
    <Product>Z3Wrap</Product>
    <Description>A complete, modern C# wrapper for Microsoft's Z3 theorem prover with unlimited precision arithmetic and type-safe API design.</Description>
    <Summary>Modern C# wrapper for Z3 theorem prover with BigInteger support, exact rationals, and natural mathematical syntax.</Summary>
    <PackageTags>z3;theorem-prover;smt;solver;constraint;satisfiability;biginteger;mathematics;formal-verification</PackageTags>
    <PackageProjectUrl>https://github.com/spaceorc/Z3Wrap</PackageProjectUrl>
    <RepositoryUrl>https://github.com/spaceorc/Z3Wrap</RepositoryUrl>
    <RepositoryType>git</RepositoryType>
    <PackageLicenseExpression>MIT</PackageLicenseExpression>
    <PackageReadmeFile>README.md</PackageReadmeFile>
    <GeneratePackageOnBuild>false</GeneratePackageOnBuild>
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <IncludeSymbols>true</IncludeSymbols>
    <SymbolPackageFormat>snupkg</SymbolPackageFormat>
    <PublishRepositoryUrl>true</PublishRepositoryUrl>
    <EmbedUntrackedSources>true</EmbedUntrackedSources>
    <MinVerTagPrefix>v</MinVerTagPrefix>
    <!-- Read release notes content from the XML-escaped file created by workflow -->
    <PackageReleaseNotes
      Condition="Exists('$(MSBuildProjectDirectory)/../RELEASE_NOTES_ESCAPED.txt')"
      >$([System.IO.File]::ReadAllText('$(MSBuildProjectDirectory)/../RELEASE_NOTES_ESCAPED.txt'))</PackageReleaseNotes
    >
  </PropertyGroup>
  <!-- Include README in NuGet package -->
  <ItemGroup>
    <None Include="../README.md" Pack="true" PackagePath="\" />
  </ItemGroup>
  <!-- Source Link support for debugging -->
  <ItemGroup>
    <PackageReference Include="Microsoft.SourceLink.GitHub" Version="8.0.0" PrivateAssets="All" />
    <PackageReference Include="MinVer" Version="6.0.0">
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
      <PrivateAssets>all</PrivateAssets>
    </PackageReference>
  </ItemGroup>
  <ItemGroup>
    <Compile Update="Extensions\Z3ContextArrayExtensions.Operators.cs">
      <DependentUpon>Z3ContextArrayExtensions.cs</DependentUpon>
    </Compile>
    <Compile Update="Extensions\Z3ContextBoolExtensions.Functions.cs">
      <DependentUpon>Z3ContextBoolExtensions.cs</DependentUpon>
    </Compile>
    <Compile Update="Extensions\Z3ContextBoolExtensions.Operators.cs">
      <DependentUpon>Z3ContextBoolExtensions.cs</DependentUpon>
    </Compile>
    <Compile Update="Extensions\Z3ContextIntExtensions.Functions.cs">
      <DependentUpon>Z3ContextIntExtensions.cs</DependentUpon>
    </Compile>
    <Compile Update="Extensions\Z3ContextIntExtensions.Operators.cs">
      <DependentUpon>Z3ContextIntExtensions.cs</DependentUpon>
    </Compile>
    <Compile Update="Extensions\Z3ContextRealExtensions.Functions.cs">
      <DependentUpon>Z3ContextRealExtensions.cs</DependentUpon>
    </Compile>
    <Compile Update="Extensions\Z3ContextRealExtensions.Operators.cs">
      <DependentUpon>Z3ContextRealExtensions.cs</DependentUpon>
    </Compile>
    <Compile Update="Extensions\Z3ContextIntExtensions.Conversion.cs">
      <DependentUpon>Z3ContextIntExtensions.cs</DependentUpon>
    </Compile>
    <Compile Update="Extensions\Z3ContextRealExtensions.Conversion.cs">
      <DependentUpon>Z3ContextRealExtensions.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\BitVec.Arithmetic.cs">
      <DependentUpon>BitVec.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\BitVec.Bitwise.cs">
      <DependentUpon>BitVec.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\BitVec.Cast.cs">
      <DependentUpon>BitVec.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\BitVec.Comparison.cs">
      <DependentUpon>BitVec.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\BitVec.Conversion.cs">
      <DependentUpon>BitVec.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\BitVec.Equality.cs">
      <DependentUpon>BitVec.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\BitVec.Factory.cs">
      <DependentUpon>BitVec.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\BitVec.Manipulation.cs">
      <DependentUpon>BitVec.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\Z3ContextBitVecExtensions.Conversion.cs">
      <DependentUpon>Z3ContextBitVecExtensions.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\Z3ContextBitVecExtensions.Functions.cs">
      <DependentUpon>Z3ContextBitVecExtensions.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\Z3ContextBitVecExtensions.Operators.cs">
      <DependentUpon>Z3ContextBitVecExtensions.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\Z3ContextBitVecExtensions.OverflowChecks.cs">
      <DependentUpon>Z3ContextBitVecExtensions.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\Z3BitVecBoundaryCheckBuilder.OperationBuilder.cs">
      <DependentUpon>Z3BitVecBoundaryCheckBuilder.cs</DependentUpon>
    </Compile>
    <Compile Update="BitVectors\Z3BitVecBoundaryCheckBuilder.OperationType.cs">
      <DependentUpon>Z3BitVecBoundaryCheckBuilder.cs</DependentUpon>
    </Compile>
  </ItemGroup>
  <Target Name="PrintMinVer" DependsOnTargets="MinVer">
    <Warning Text="MinVer_PackageVersion=$(PackageVersion)" />
  </Target>
</Project>
